/*! Greentree - v0.1.0 - 2014-10-10
* https://github.com/GGGGino/greentree
* Copyright (c) 2014 ggggino; Licensed MIT */
!function(a){a.greentree=function(b,c){c=a.extend({},a.greentree.options,c),this.opzioni=c,this.contenitore=b,this.items=this.getItems();var d,e,f;b.html("");for(var g=1;g<=this.getMaxGrado();g++){d='<div class="riga riga'+g+'" riga="'+g+'">',f=0;for(var h=0;h<this.items.length;h++)this.items[h].grado===g&&(f++,e='<div class="contItem">',e+=this.items[h].outerHTML,e+="</div>",d+=e);d+="</div>",b.append(d);var i=100/f;i+="%",a(".riga"+g+" .contItem").css({width:i,"float":"left",textAlign:"center"})}return a(".riga").css({clear:"both"}),!0},a.greentree.options={selector:"div"},a.greentree.prototype={getItemsNumber:function(){return this.items.length},getItems:function(){return this.contenitore.children(this.opzioni.selector)},getMaxGrado:function(){for(var a=this.items,b=a[0].attributes.grado.value.split("-").length,c=0;c<a.length;c++){b<a[c].attributes.grado.value.split("-").length&&(b=a[c].attributes.grado.value.split("-").length);var d=a[c].attributes.grado.value.split("-").length;this.items[c].setAttribute("riga",d),this.items[c].grado=d}return b}},a.fn.greentree=function(b){var c=a(this);return b=b||{},new a.greentree(c,b)}}(jQuery);